{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block head %}

{% block title %}CORAPOYO PLACE {% endblock %}
<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<title>Registro Puesto - Corapoyo</title>
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" type="image/x-icon" href="../static/assets/images/favicon.svg" />
<!-- Favicon.ico -->

<!-- Web Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
  rel="stylesheet">

<!-- ========================= CSS here ========================= -->
<link rel="stylesheet" href="../static/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="../static/assets/css/LineIcons.2.0.css" />
<link rel="stylesheet" href="../static/assets/css/animate.css" />
<link rel="stylesheet" href="../static/assets/css/tiny-slider.css" />
<link rel="stylesheet" href="../static/assets/css/glightbox.min.css" />
<link rel="stylesheet" href="../static/assets/css/main.css" />
<link rel="stylesheet" href="../static/assets/css/custom.css" />
{% endblock %}
{% block content %}
<header class="header">
  <div class="navbar-area">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-12">
          <nav class="navbar navbar-expand-lg">
            <a class="navbar-brand logo" href="{{ url_for('index') }}">
              <img class="logo1" src="../static/assets/images/logo/logo.png" alt="Logo" />
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="toggler-icon"></span>
              <span class="toggler-icon"></span>
              <span class="toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
              <ul id="nav" class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a href="{{ url_for('index') }}">Menú selección</a>
                </li>
                <li class="nav-item"><a href="{{ url_for('register_role') }}">Registro rol</a></li>
                <li class="nav-item"><a href="{{ url_for('register') }}">Registro Asociado</a></li>
                <li class="nav-item"><a href="{{ url_for('register_square') }}">Registro Plaza</a></li>
                <li class="nav-item"><a href="{{ url_for('register_store') }}">Registro Bodega</a></li>
                <li class="nav-item"><a class="active" href="{{ url_for('register_place') }}">Registro Puesto</a></li>
                <li class="nav-item"><a href="{{ url_for('register_product') }}">Registro Producto</a></li>
              </ul>
            </div>
            <!-- navbar collapse -->
            <div class="button mx-0">
              <!--<a href="javacript:" data-toggle="modal" data-target="#login" class="login"><i
                                  class="lni lni-lock-alt"></i> Iniciar sesión</a>-->
                  <a href="{{ url_for('signup') }}" data-toggle="modal" class="btn">Iniciar sesión</a>
            </div>
          </nav>
          <!-- navbar -->
        </div>
      </div>
      <!-- row -->
    </div>
    <!-- container -->
  </div>
  <!-- navbar area -->
</header>
<!-- End Header Area -->

<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="section-title mt-5 mb-5">
          <h2 class="wow fadeInUp" data-wow-delay=".4s" style="text-transform: none;">Registrar Puesto</h2>
        </div>
      </div>
    </div>
    <div class="cat-head">
      <div class="row">
        <div class="col-md-12 ">

          <div class="card-body">
            <h5 class="card-title">Información de geolocalización</h5>
            <p class="card-text" id="coords">Latitud y longitud</p>
            <button class="btn btn-primary" onclick="iniciarMap()">Mostrar ubicación</button>

          </div>

          <form class="form-horizontal" action='place' method="POST">

            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="card">
                      <div class="card-body">
                        <div id="map" class="p-3 mb-2 bg-secondary text-white text-center">
                          <h3 class="">Clic para cargar el mapa</h3>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="card">
                      <div class="card-body">

                        <fieldset>
                          <div class="container"><br>
                            <div class="row align-items-center justify-content-center">
                              <div class="col-md-12">

                                <div class="control-group">
                                  <label class="control-label" for="almcLati">Latitud</label>
                                  <div class="controls">
                                    <input type="text" id="almcLati" name="almcLati" placeholder="Latitud"
                                      class="form-control input-xlarge">
                                  </div>
                                </div>
                                <div class="control-group">
                                  <label class="control-label" for="almcLong">Longitud</label>
                                  <div class="controls">
                                    <input type="text" id="almcLong" name="almcLong" placeholder="Longitud"
                                      class="form-control input-xlarge">
                                  </div>
                                </div>

                                <div class="control-group">
                                  <!-- store -->
                                  <label class="control-label" for="name">Puesto</label>
                                  <div class="controls">
                                    <input type="text" id="name" name="name" placeholder="Puesto"
                                      class="form-control input-xlarge">
                                    <p class="help-block">El nombre de usuario puede contener cualquier letra o número,
                                      sin espacios</p>
                                  </div>
                                </div>

                                <div class="control-group">
                                  <!-- name -->
                                  <label class="control-label" for="code">Codigo</label>
                                  <div class="controls">
                                    <input type="text" id="code" name="code" placeholder="Codigo"
                                      class="form-control input-xlarge">
                                    <p class="help-block">El código puede contener cualquier letra o número, sin
                                      espacios</p>
                                  </div>
                                </div>


                                {% if partners %}
                                <div class="control-group"></div>
                                <!-- Phone-->
                                <label class="control-label" for="partner_id">Asociado</label>
                                <div class="controls">
                                  <select class="form-control" name="partner_id">
                                    {% for partner in partners %}
                                    <option value="{{ partner.id }}">{{ partner.name }}</option>
                                    {% endfor%}
                                  </select>
                                </div>
                                {% endif %}
                                {% if products %}

                                <div class="control-group"></div>
                                <!-- Phone-->
                                <label class="control-label" for="product_id">Producto 1</label>
                                <div class="controls">
                                  <select class="form-control" name="product_id">
                                    {% for product in products %}
                                    <option value="{{ product.id }}">{{ product.name }}</option>
                                    {% endfor%}
                                  </select>
                                </div>
                                <div class="control-group"></div>

                                <label class="control-label" for="product_two_id">Producto 1</label>
                                <div class="controls">
                                  <select class="form-control" name="product_two_id">
                                    {% for product in products %}
                                    <option value="{{ product.id }}">{{ product.name }}</option>
                                    {% endfor%}
                                  </select>
                                </div>
                              </div>

                              {% endif %}

                              {% if stores %}
                              <div class="control-group"></div>

                              <label class="control-label" for="store_id">Bodega</label>
                              <div class="controls">
                                <select class="form-control" name="store_id">
                                  {% for store in stores %}
                                  <option value="{{ store.id }}">{{ store.number }}</option>
                                  {% endfor%}
                                </select>
                              </div>
                            </div>
                            {% endif %}
                            {% if products %}
                            <div class="control-group"></div>
                            <!-- Phone-->
                            <label class="control-label" for="product_three_id">Producto 1</label>
                            <div class="controls">
                              <select class="form-control" name="product_three_id">
                                {% for product in products %}
                                <option value="{{ product.id }}">{{ product.name }}</option>
                                {% endfor%}
                              </select>
                            </div>
                            {% endif %}
                          </div>
                          <br>

                          <br>

                          <center>
                            <div class="control-group">
                              <!-- Button -->
                              <div class="controls form-group button">
                                <button type="submit" class="btn ">Registrar</button>
                              </div>
                          </center>

                          <br>


                      </div>
                      <br>
                      </fieldset>



                    </div>
                  </div>

                </div>
              </div>
            </div>

        </div>
      </div>

      </form>
    </div>
  </div>
  </div>
</section>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiISlMvvS9NG0bjqngZO6Teg8O77qoyc8"></script>


<script>
  function iniciarMap() {

    var output = document.getElementById('map');
    var outputC = document.getElementById('coords');

    // Verificar si soporta geolocalizacion
    if (navigator.geolocation) {
      output.innerHTML = "<p>Tu navegador soporta Geolocalizacion</p>";
    } else {
      output.innerHTML = "<p>Tu navegador no soporta Geolocalizacion</p>";
    }

    //Obtener latitud y longitud
    function localizacion(posicion) {

      var latitude = posicion.coords.latitude;
      var longitude = posicion.coords.longitude;


      outputC.innerHTML = "<p>Latitud: " + latitude + "<br>Longitud: " + longitude + "</p>";

      document.getElementById("almcLati").value = latitude;
      document.getElementById("almcLong").value = longitude;


      var coord = { lat: latitude, lng: longitude };
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 18,
        center: coord
      });
      var marker = new google.maps.Marker({
        position: coord,
        map: map
      });

    }

    function error() {
      output.innerHTML = "<p>No se pudo obtener tu ubicación</p>";

    }

    navigator.geolocation.getCurrentPosition(localizacion, error);


  }

</script>

<!-- Start Footer Area -->
<footer class="footer">

  <!-- Start Footer Bottom -->
  <div class="footer-bottom">
    <div class="container">
      <div class="inner">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-12">
            <div class="left">
              <p>Desarrollador por<a href="https://tayronasolutions.com/" rel="nofollow"
                  target="_blank">TayronaSolutions</a></p>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-12">
            <div class="right">
              <ul>
                <li><a href="#">Terminos de uso</a></li>
                <li><a href="#">Politica de privacidad</a></li>
                <li><a href="#">Habeas data</a></li>
                <li><a href="#">Contacto</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Footer Middle -->
</footer>
<!--/ End Footer Area -->

<!-- ========================= scroll-top ========================= -->
<a href="#" class="scroll-top btn-hover">
  <i class="lni lni-chevron-up"></i>
</a>

<!-- ========================= JS here ========================= -->
<script src="../static/assets/js/bootstrap.min.js"></script>
<script src="../static/assets/js/wow.min.js"></script>
<script src="../static/assets/js/tiny-slider.js"></script>
<script src="../static/assets/js/glightbox.min.js"></script>
<script src="../static/assets/js/main.js"></script>
<!--<a href="{{ url_for('create_partner') }}">Creditos </a>-->
{% endblock %}
<!-- 
<div class="control-group"></div>
        
        <label class="control-label" for="product_two_id">Producto 1</label>
        <div class="controls">
          <select name="product_two_id">
            {% for product in products %}
            <option  value="{{ product.id }}">{{ product.name }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      
      <div class="control-group"></div>
        
        <label class="control-label" for="product_three_id">Producto 1</label>
        <div class="controls">
          <select name="product_three_id">
            {% for product in products %}
            <option  value="{{ product.id }}">{{ product.name }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      




 {% if stores %}
      <div class="control-group"></div>
       
        <label class="control-label" for="store_id">Bodega</label>
        <div class="controls">
          <select name="store_id">
            {% for store in stores %}
            <option  value="{{ store.id }}">{{ store.number }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      {% endif %}     

-->