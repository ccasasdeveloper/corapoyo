{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block head %}

<meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<title>Registro Puesto | CorAppBastos</title>
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" type="image/x-icon" href="../static/assets/images/favicon.svg" />
<!-- Favicon.ico -->

<!-- Web Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
  rel="stylesheet">

<!-- ========================= CSS here ========================= -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="../static/assets/css/LineIcons.2.0.css" />
<link rel="stylesheet" href="../static/assets/css/animate.css" />
<link rel="stylesheet" href="../static/assets/css/tiny-slider.css" />
<link rel="stylesheet" href="../static/assets/css/glightbox.min.css" />
<link rel="stylesheet" href="../static/assets/css/main.css" />
<link rel="stylesheet" href="../static/assets/css/custom.css" />
{% endblock %}
{% block content %}
<header class="header">
  <div class="navbar-area">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-12">
          <nav class="navbar navbar-expand-lg">
            <a class="navbar-brand logo" href="{{ url_for('index') }}">
              <img class="logo1" src="../static/assets/images/logo/logo.png" alt="Logo" />
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="toggler-icon"></span>
              <span class="toggler-icon"></span>
              <span class="toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
              <ul id="nav" class="navbar-nav ml-auto">
                
                {% if rol == 'Administrador' or rol == 'Superadministrador' %}
                <li class="nav-item">
                  <a href="{{ url_for('lande') }}">Menú adminstrador</a>
                </li>
                <li class="nav-item"><a href="{{ url_for('register_role') }}">Registro rol</a></li>
                <li class="nav-item"><a href="{{ url_for('register_store') }}">Registro Bodega</a></li>
                <li class="nav-item"><a href="{{ url_for('register_square') }}">Registro Plaza</a></li>
                <li class="nav-item"><a href="{{ url_for('register_product') }}">Registro Producto</a></li>
                <!--<li class="nav-item"><a href="{{ url_for('register') }}">Registro Asociado</a></li> -->
                {% endif %}
                <li class="nav-item"><a class="active" href="{{ url_for('register_place') }}">Registro Puesto</a></li>
                
              </ul>
            </div>
            <!-- navbar collapse -->
            <div class="button mx-0">
              <a href="{{ url_for('close_session') }}" data-toggle="modal" class="btn">Cerrar Sesión</a>
            </div>
          </nav>
          <!-- navbar -->
        </div>
      </div>
      <!-- row -->
    </div>
    <!-- container -->
  </div>
  <!-- navbar area -->
</header>
<!-- End Header Area -->

<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="section-title mt-5 mb-5">
          <h2 class="wow fadeInUp" data-wow-delay=".4s" style="text-transform: none;">Registrar Puesto</h2>
        </div>
      </div>
    </div>
    <div class="cat-head">
      <div class="row">
        <div class="col-md-12 ">

          <div class="card-body">

            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
              <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
              </symbol>
              <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
              </symbol>
              <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path
                  d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
              </symbol>
            </svg>

            <div class="alert alert-primary d-flex align-items-center" role="alert">
              <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
                <use xlink:href="#info-fill" />
              </svg>
              <div>
                <p class="card-text mb-2"><b>Información de geolocalización</b></p>
                <p class="card-text mb-3" id="coords">Latitud y longitud</p>
                <button type="button" class="btn btn-primary btn-sm" onclick="iniciarMap()">Mostrar datos y
                  ubicación</button>
              </div>
            </div>

          </div>


          <form class="form-horizontal was-validated" action='place' method="POST">

            <div class="accordion" id="PanelStay">
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false"
                    aria-controls="panelsStayOpen-collapseOne">
                    Ver mapa
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                  aria-labelledby="panelsStayOpen-headingOne">
                  <div class="accordion-body">
                    <div class="col-sm-12">
                      <div id="map" class="p-3 mb-2 bg-secondary text-white text-center">
                        <h3 class="">Clic para cargar el mapa</h3>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                    aria-controls="panelsStayOpen-collapseTwo">
                    Abrir formulario
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show"
                  aria-labelledby="panelsStayOpen-headingTwo">
                  <div class="accordion-body">
                    <div class="col-sm-12">

                      <fieldset>
                        <div class="container"><br>
                          <div class="row align-items-center justify-content-center">
                            <div class="col-md-12">

                              <div class="control-group">
                                <label class="control-label" for="almcLati">Latitud</label>
                                <div class="controls">
                                  <input type="text" id="almcLati" name="almcLati" placeholder="Latitud"
                                    class="form-control input-xlarge" required>
                                    <div class="valid-feedback">Información valida</div>
                        <div class="invalid-feedback">Debe dar clic en el botón "Mostrar datos y ubicación" para llenar este campo 
                        </div>
                                </div>
                              </div>
                              <div class="control-group">
                                <label class="control-label" for="almcLong">Longitud</label>
                                <div class="controls">
                                  <input type="text" id="almcLong" name="almcLong" placeholder="Longitud"
                                    class="form-control input-xlarge" required>
                                    <div class="valid-feedback">Información valida</div>
                        <div class="invalid-feedback">Debe dar clic en el botón "Mostrar datos y ubicación" para llenar este campo 
                        </div>
                                </div>
                              </div>

                              <div class="control-group">
                                <!-- store -->
                                <label class="control-label" for="name">Puesto</label>
                                <div class="controls">
                                  <input type="text" id="name" name="name" placeholder="Puesto"
                                    class="form-control input-xlarge" required>
                                    <div class="valid-feedback">Información valida</div>
                        <div class="invalid-feedback">El nombre de usuario puede contener cualquier letra o número,
                          sin espacios 
                        </div>
                                </div>
                              </div>

                              <div class="control-group display_n">
                                <!-- name -->
                                <label class="control-label" for="code">Codigo</label>
                                <div class="controls">
                                  <input type="text" id="code" name="code" placeholder="Codigo"
                                    class="form-control input-xlarge">
                                    <div class="valid-feedback">Información valida</div>
                        <div class="invalid-feedback">El código puede contener cualquier letra o número, sin
                          espacios 
                        </div>
                                </div>
                              </div>


                              {% if partners %}
                              <div class="control-group"></div>
                              <!-- Phone-->
                              <label class="control-label" for="partner_id">Asociado</label>
                              <div class="controls">
                                <select class="form-control" name="partner_id" required>
                                  <option value=""></option>
                                  {% for partner in partners %}
                                  <option value="{{ partner.id }}">{{ partner.name }}</option>
                                  {% endfor%}
                                </select>
                                <div class="valid-feedback">Información valida</div>
                        <div class="invalid-feedback">Debe seleccionar una opción para continuar
                        </div>
                              </div>
                              {% endif %}
                              {% if products %}

                              <div class="control-group"></div>
                              <!-- Phone-->
                              <label class="control-label" for="product_id">Producto 1</label>
                              <div class="controls">
                                <select class="form-control" name="product_id" required>
                                  <option value=""></option>
                                  {% for product in products %}
                                  <option value="{{ product.id }}">{{ product.name }}</option>
                                  {% endfor%}
                                </select>
                              </div>
                              <div class="control-group"></div>

                              <label class="control-label" for="product_two_id">Producto 2</label>
                              <div class="controls">
                                <select class="form-control" name="product_two_id" required>
                                  <option value=""></option>
                                  {% for product in products %}
                                  <option value="{{ product.id }}">{{ product.name }}</option>
                                  {% endfor%}
                                </select>
                              </div>
                            </div>

                            {% endif %}

                            {% if products %}
                          <div class="control-group"></div>
                          <!-- Phone-->
                          <label class="control-label" for="product_three_id">Producto 3</label>
                          <div class="controls">
                            <select class="form-control" name="product_three_id" required>
                              <option value=""></option>
                              {% for product in products %}
                              <option value="{{ product.id }}">{{ product.name }}</option>
                              {% endfor%}
                            </select>
                          </div>
                          {% endif %}

                            {% if stores %}
                            <div class="control-group"></div>

                            <label class="control-label" for="store_id">Bodega</label>
                            <div class="controls">
                              <select class="form-control" name="store_id" required>
                                <option value=""></option>
                                {% for store in stores %}
                                <option value="{{ store.id }}">{{ store.number }}</option>
                                {% endfor%}
                              </select>
                            </div>
                          </div>
                          {% endif %}
                          
                        </div>
                        <br>

                        <br>

                        <center>
                          <div class="control-group">
                            <!-- Button -->
                            <div class="controls form-group button">
                              <button type="submit" class="btn ">Registrar</button>
                            </div>
                        </center>

                        <br>


                        <br>
                      </fieldset>



                    </div>
                  </div>
                </div>
              </div>
            </div>

        </div>
      </div>

      </form>
    </div>
  </div>
  </div>
</section>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiISlMvvS9NG0bjqngZO6Teg8O77qoyc8"></script>


<script>
  function iniciarMap() {

    var output = document.getElementById('map');
    var outputC = document.getElementById('coords');

    // Verificar si soporta geolocalizacion
    if (navigator.geolocation) {
      output.innerHTML = "<p>Tu navegador soporta Geolocalizacion</p>";
    } else {
      output.innerHTML = "<p>Tu navegador no soporta Geolocalizacion</p>";
    }

    //Obtener latitud y longitud
    function localizacion(posicion) {

      var latitude = posicion.coords.latitude;
      var longitude = posicion.coords.longitude;


      outputC.innerHTML = "<p>Latitud: " + latitude + "<br>Longitud: " + longitude + "</p>";

      document.getElementById("almcLati").value = latitude;
      document.getElementById("almcLong").value = longitude;


      var coord = { lat: latitude, lng: longitude };
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 18,
        center: coord
      });
      var marker = new google.maps.Marker({
        position: coord,
        map: map
      });

    }

    function error() {
      output.innerHTML = "<p>No se pudo obtener tu ubicación</p>";

    }

    navigator.geolocation.getCurrentPosition(localizacion, error);


  }

</script>

<!-- Start Footer Area -->
<footer class="footer">

  <!-- Start Footer Bottom -->
  <div class="footer-bottom">
    <div class="container">
      <div class="inner">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-12">
            <div class="left">
              <p>Desarrollador por<a href="https://tayronasolutions.com/" rel="nofollow"
                  target="_blank">TayronaSolutions</a></p>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-12">
            <div class="right">
              <ul>
                <li><a href="#">Terminos de uso</a></li>
                <li><a href="#">Politica de privacidad</a></li>
                <li><a href="#">Habeas data</a></li>
                <li><a href="#">Contacto</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Footer Middle -->
</footer>
<!--/ End Footer Area -->

<!-- ========================= scroll-top ========================= -->
<a href="#" class="scroll-top btn-hover">
  <i class="lni lni-chevron-up"></i>
</a>

<!-- ========================= JS here ========================= -->
<script src="../static/assets/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="../static/assets/js/wow.min.js"></script>
<script src="../static/assets/js/tiny-slider.js"></script>
<script src="../static/assets/js/glightbox.min.js"></script>
<script src="../static/assets/js/main.js"></script>
<!--<a href="{{ url_for('create_partner') }}">Creditos </a>-->
{% endblock %}
<!-- 
<div class="control-group"></div>
        
        <label class="control-label" for="product_two_id">Producto 1</label>
        <div class="controls">
          <select name="product_two_id">
            {% for product in products %}
            <option  value="{{ product.id }}">{{ product.name }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      
      <div class="control-group"></div>
        
        <label class="control-label" for="product_three_id">Producto 1</label>
        <div class="controls">
          <select name="product_three_id">
            {% for product in products %}
            <option  value="{{ product.id }}">{{ product.name }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      




 {% if stores %}
      <div class="control-group"></div>
       
        <label class="control-label" for="store_id">Bodega</label>
        <div class="controls">
          <select name="store_id">
            {% for store in stores %}
            <option  value="{{ store.id }}">{{ store.number }}</option>
            {% endfor%}
          </select>
        </div>
      </div> 
      {% endif %}     

-->
